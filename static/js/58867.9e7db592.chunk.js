"use strict";(self.webpackChunkmmsp_utility=self.webpackChunkmmsp_utility||[]).push([[58867],{27040:(e,t,n)=>{n.r(t),n.d(t,{createMesh:()=>p});var o=n(50076),r=n(47594),i=n(45308),a=n(42294),l=n(14894),s=n(56623),c=n(45136),u=n(95799);function p(e){var t,n;const a=new u.O,p=null!==(t=e.spatialReference)&&void 0!==t?t:e.layerView.view.spatialReference;return a.externalSources.add({extent:null!==(n=e.extent)&&void 0!==n?n:d(e,p),source:{type:"loadable",load:t=>async function(e,t){let{layerView:n,nodeIndex:r,featureIndex:a}=t;const l=n.getNodeComponentHandle(r);if(null===l||void 0===l||!l.intersectionGeometry)throw new o.A("i3s-layer-view-geometry-missing","Cannot load mesh because scene layer view data is no longer available.");const u={indices:null,data:null,stride:0,startIndex:0,endIndex:0};l.intersectionGeometry.getComponentPositions(a,u);const{indices:p,data:d,stride:y,startIndex:x,endIndex:f}=u,v=new Float64Array(3*(f-x));let g=0;for(let o=x;o<f;o+=3){const e=y*p[o],t=y*p[o+1],n=y*p[o+2];v[g++]=d[e],v[g++]=d[e+1],v[g++]=d[e+2],v[g++]=d[t],v[g++]=d[t+1],v[g++]=d[t+2],v[g++]=d[n],v[g++]=d[n+1],v[g++]=d[n+2]}const h=l.transform;(0,c.b)(v,v,h.rotationScale),(0,c.a)(v,v,h.position),(0,i.projectBuffer)(v,n.view.renderSpatialReference,0,v,e.spatialReference,0),e.vertexAttributes=new s.H({position:v})}(t,e)}}),new r.default({metadata:a,vertexSpace:new l.A,spatialReference:p})}function d(e,t){let{layerView:n,nodeIndex:o,featureIndex:r}=e;const l=n.getAABB(o,r);if(!l)return null;const s=n.view.spatialReference;return s.equals(t)||(0,i.projectBuffer)(l,s,0,l,t,0),(0,a.w1)(l,t)}},32186:(e,t,n)=>{n.d(t,{A:()=>x});var o=n(6326),r=n(69098),i=n(42553),a=n(46053),l=(n(81806),n(76460),n(47249),n(87990)),s=n(34761),c=n(13191),u=n(60008),p=n(4336),d=n(9392),y=n(52896);let x=class extends((0,r.OU)(i.o)){constructor(e){super(e),this.translation=(0,d.vt)(),this.rotationAxis=(0,d.ci)(y.up),this.rotationAngle=0,this.scale=(0,d.fA)(1,1,1)}get rotation(){return(0,y.i4)(this.rotationAxis,this.rotationAngle)}set rotation(e){this.rotationAxis=(0,d.o8)((0,y.yo)(e)),this.rotationAngle=(0,y.g7)(e)}get localMatrix(){const e=(0,c.vt)();return(0,u.x8)(f,(0,y.yo)(this.rotation),(0,y.$I)(this.rotation)),(0,s.o1)(e,f,this.translation,this.scale),e}get localMatrixInverse(){return(0,s.B8)((0,c.vt)(),this.localMatrix)}equals(e){return this===e||null!=e&&(0,s.t2)(this.localMatrix,e.localMatrix)}};(0,o.Cg)([(0,a.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],x.prototype,"translation",void 0),(0,o.Cg)([(0,a.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],x.prototype,"rotationAxis",void 0),(0,o.Cg)([(0,a.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],x.prototype,"rotationAngle",void 0),(0,o.Cg)([(0,a.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],x.prototype,"scale",void 0),(0,o.Cg)([(0,a.MZ)()],x.prototype,"rotation",null),(0,o.Cg)([(0,a.MZ)()],x.prototype,"localMatrix",null),(0,o.Cg)([(0,a.MZ)()],x.prototype,"localMatrixInverse",null),x=(0,o.Cg)([(0,l.$)("esri.geometry.support.MeshTransform")],x);const f=(0,p.vt)()}}]);
//# sourceMappingURL=58867.9e7db592.chunk.js.map